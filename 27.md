# サービス

## サービスに分離するメリットの幻想

- サービスはアプリ内で完全に分離されているため完全に疎結合であるという幻想
- サービスはデータを参照している
- そのデータは各サービスから利用されている場合がある
- データ構造が変われば依存しているサービスを変更する必要がある
- 変更が連動しているためサービス同士は間接的に依存関係にあるといえる

## サービスには抽象サービスクラスを用意して依存関係を切り離す

- 抽象サービスクラスがなく、格サービスが依存関係にあるとき、ある追加要件によってサービスすべての変更が必要になる
- これを各サービスごとに抽象へ依存するようになると、その抽象クラスを拡張したクラスを用意すればよく、各サービスの変更は不要になる

## 横断的関心事

- アーキテクチャの境界はサービスとサービスの中間に位置するわけではない
- アーキテクチャの境界はサービスを横断することでコンポーネントに分割している
  - 横断とは・・・サービスを横断的に見て、依存性を抽象によって解決すること？